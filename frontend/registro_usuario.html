<!DOCTYPE html>
<html class="wide wow-animation" lang="en">
  <head>
    <title>Registro Usuario</title>
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width height=device-height initial-scale=1.0 maximum-scale=1.0 user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <link rel="icon" href="images/icono.png" type="image/x-icon">
    <!-- Stylesheets-->
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Work+Sans:300,700,800%7CIBM+Plex+Sans:200,300,400,400i,600,700">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/style.css">
    <style>.ie-panel{display: none;background: #212121;padding: 10px 0;box-shadow: 3px 3px 5px 0 rgba(0,0,0,.3);clear: both;text-align:center;position: relative;z-index: 1;} html.ie-10 .ie-panel, html.lt-ie-10 .ie-panel {display: block;}</style>
  </head>
  <body>

<section class="vh-100%" style="background-color: #508bfc;">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-12 col-md-8 col-lg-6 col-xl-5">
          <div class="card shadow-2-strong" style="border-radius: 1rem;">
            <div class="card-body p-5 ">
  
              <h3 class="mb-5 text-center" >Registrar Cliente</h3>
              <form id="dataForm">  
              <div data-mdb-input-init class="form-outline mb-4">
                <label for="clientID">Id</label>
                <input type="text" id="clientID" name="clientID" class="form-control form-control-lg" required />
                <label class="form-label" for="clientID"></label>
              </div>

              <div data-mdb-input-init class="form-outline mb-4">
                <label for="name">Nombre</label>
                <input type="text" id="name" name="name" class="form-control form-control-lg" required />
                <label class="form-label" for="name"></label>
              </div>

              <div data-mdb-input-init class="form-outline mb-4">
                <label for="lastName">Apellido</label>
                <input type="text" id="lastName" name="lastName" class="form-control form-control-lg" required />
                <label class="form-label" for="lastName"></label>
              </div>

              <div data-mdb-input-init class="form-outline mb-4">
                <label for="idDocument">Cédula</label>
                <input type="text" id="idDocument" name="idDocument" class="form-control form-control-lg" required />
                <label class="form-label" for="idDocument"></label>
              </div>

              <div data-mdb-input-init class="form-outline mb-4">
                <label for="email">Correo</label>
                <input type="email" id="email" name="email" class="form-control form-control-lg" required />
                <label class="form-label" for="email"></label>
              </div>

              <div data-mdb-input-init class="form-outline mb-4">
                <label for="phone">Celular</label>
                <input type="text" id="phone" name="phone" class="form-control form-control-lg" required />
                <label class="form-label" for="phone"></label>
              </div>
  
            

  
              <button data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-lg btn-block" type="submit">Registrar</button>
  
            </form>
  
  
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script>
    const form = document.getElementById('dataForm');
    form.addEventListener('submit', (event) => {
        event.preventDefault(); // Prevenir el envío del formulario

        const formData = new FormData(form);
        const data = Object.fromEntries(formData);

        fetch('http://localhost:3000/api/v1/clients', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        })
        .then(response => {
            if (response.ok) {
                alert('Registrado correctamente');
                location.reload(); // Recargar la página
            } else {
                return response.text().then(text => {
                    alert(`Error al enviar los datos: ${text}`);
                });
            }
        })
        .catch(error => {
            console.error('Error al enviar los datos:', error);
        });
    });
</script>
  </body>
</html>